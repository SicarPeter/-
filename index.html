<!doctype html>
<html lang="zh-Hant-TW">
<head>
<meta charset="utf-8" />
<title>標車酷預約系統</title>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<meta name="color-scheme" content="dark light" />
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/litepicker/dist/css/litepicker.css" rel="stylesheet" />
<style>
:root{
--bg:#191935; --card:#1f1f3f; --text:#f0f0f0; --muted:#9aa0b4;
--accent:#D9F107; --input:#2a2a47; --border:#3f3f61; --danger:#ff8c8c; --success:#8cff8c;
--ctrl-h:48px;
}
html,body{height:100%}
html{-webkit-text-size-adjust:100%}
body{
font-family:'Noto Sans TC',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial,'Noto Sans','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol',sans-serif;
background:var(--bg); color:var(--text); margin:0; display:flex; align-items:center; justify-content:center;
/* 原本：min-height:100svh; padding:16px;  改成下面這段 */
min-height:100svh;
padding:
calc(16px + env(safe-area-inset-top))
16px
calc(16px + env(safe-area-inset-bottom))
16px;               /* iOS Safari 瀏海安全區 */
}

/* 某些舊瀏覽器不支援 env()，再保底一次 */
@supports not (padding: max(0px)) {
body{ padding-top: 24px; padding-bottom: 24px; }
}

/* ✅ 新增：手機改為頂對齊，避免內容被置中推到視窗外 */
@media (max-width:760px){
  body{ align-items:flex-start; }
  .container{ margin-top: 8px; }
}

.container{
width:100%; max-width:720px; background:var(--card); border-radius:14px; padding:24px;
box-shadow:0 10px 30px rgba(0,0,0,.35);
@@ -95,70 +102,71 @@
<div class="row">
<div class="form-group">
<label for="datepicker">日期</label>
          <input id="datepicker" name="date" type="text" class="control" inputmode="none" autocomplete="off" required>
          <!-- ✅ 新增 placeholder 與 readonly -->
          <input id="datepicker" name="date" type="text" class="control" inputmode="none" autocomplete="off" placeholder="請先選擇日期" readonly required>
<div class="help">可約 2 個月內</div>
</div>
<div class="form-group">
<label for="slot">時段</label>
<select id="slot" name="time" class="control" required disabled>
<option value="">請先選擇日期</option>
</select>
</div>
</div>

<!-- 廠牌 / 車款 -->
<div class="row">
<div class="form-group">
<label for="brand">廠牌</label>
<select id="brand" name="brand" class="control" required disabled>
<option value="">載入中...</option>
</select>
</div>
<div class="form-group">
<label for="model">車款</label>
<select id="model" name="model" class="control" required disabled>
<option value="">請先選擇廠牌</option>
</select>
</div>
</div>

<!-- 基本資料 -->
<div class="row">
<div class="form-group">
<label for="name">姓名</label>
<input id="name" name="name" type="text" class="control" placeholder="請輸入您的姓名" required>
</div>
<div class="form-group">
<label for="phone">手機號碼</label>
<input id="phone" name="phone" type="tel" class="control" inputmode="numeric" pattern="^(09|\\+?8869)\\d{8}$" placeholder="09xxxxxxxx" required>
</div>
</div>

<div class="form-group">
<label for="email">電子郵件</label>
<input id="email" name="email" type="email" class="control" placeholder="example@gmail.com" required>
</div>

<div class="form-group">
<label for="memo">備註（可輸入 LINE ID 或其他需求）</label>
<textarea id="memo" name="memo" class="control" rows="3" placeholder="選填"></textarea>
</div>

<button id="submit" type="submit" class="control">立即預約</button>
<div id="status"></div>

</form>
</div>

<script src="https://cdn.jsdelivr.net/npm/litepicker/dist/litepicker.js"></script>
<script>
/* ===== Endpoints ===== */
const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxKNqFkl3FqdskRQ_zUD3xvsfUPPuI5RT-5qDW242o3WedCHGNdNT3U-m6k8XT1nG8o/exec';
const BRAND_JSON = './data/brands.json';
const MODEL_JSON = './data/models.json';

/* ===== DOM ===== */
const form = document.getElementById('form');
const dateEl = document.getElementById('datepicker');
const slotEl = document.getElementById('slot');
const brandEl = document.getElementById('brand');
